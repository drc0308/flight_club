{% extends 'base.html' %}

{% block header %}
<!-- header -->
<section class="content">
  <div class="container">
    <div class="row">
        <h1 class="text-center">{% block title %}Add Session{% endblock %}</h1>
    </div><!-- end row -->
</div><!-- end container -->
</section>

<section class="content">
  <div class="container">
    <div class="row">
<script type='text/javascript'>
    // I basically stole this script from stackoverflow
    // What's front end development anyway..
    function addrow() {
        // Container <div> where dynamic content will be placed
        // var beer_form = document.getElementById("beer-form");
        // var row_count = container.rows.length;
        
        // Dan learn how jquery works
        var beer_form = $("#beer-form");
        var rows = beer_form.find("tr").length;
        console.log(rows);

        var new_form_row = $("#beer-form-row").clone();
        new_form_row.removeAttr("id");
        console.log(beer_form,new_form_row);
        
        new_form_row.find(".beer input").attr("name","beer_" + rows)
        new_form_row.find(".brewery input").attr("name","brewery_" + rows)

        beer_form.append(new_form_row);
    }
</script>
{% endblock %}

{% block content %}
<section class="content">
  <div class="container">
    <div class="row">
        <form method="post">
            <label for="session_id">FC Session #:</label>
            <input type="Number" id="session_id" name="session_id" required><br />

            <label for="date">Date:</label>
            <input type="date" id="date" name="date" required><br />

            <label for="beers">Host:</label>
            <input type="text" id="host" name="host" value=""><br />

            <a href="#" id="Add Row" onclick="addrow()">Add Row</a>
            <table id="beer-form" />
            </table>

            <input type="submit" value="submit">
        </form>
    </div><!-- end row -->
  </div><!-- end container -->
<table class="hidden">
  <tr id="beer-form-row"> 
    <td class="beer"><label for="beer">Beer: </label><input type="text" name="beer"/></td>
    <td class="brewery"><label for="brewery">Brewery: </label><input type="text" name="brewery"/></td>
  </tr>
</table>
</section>

{% endblock %}

